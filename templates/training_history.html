<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Training History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
      /* General Body Styling */
      body {
          font-family: 'Droid Sans', Arial, sans-serif;
          background-color: #f4f4f4;
          margin: 0;
          background-image: url("../static/images/genre2.jpg");
          background-size: cover;
          background-position: center;
          padding: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          min-height: 100vh;
      }

      /* About Page Container */
      .container {
          background: rgba(255, 255, 255, 0.9); /* Slight white transparency */
          padding: 30px;
          border-radius: 15px;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
          margin-top: 50px;
      }

      /* Heading Styling */
      h2, h3{
          font-weight: bold;
          color: grey;
          text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
      }

      /* Explanation Text */
      p.text-center {
          font-size: 20px;
          font-weight: 500;
          color: wheat;
          background: lavender;
          padding: 15px;
          border-radius: 10px;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      /* Spectrogram Images */
      img.img-fluid {
          max-width: 100%;
          height: auto;
          border-radius: 10px;
          border: 2px solid lightgray;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      img.img-fluid:hover {
          transform: scale(1.05);
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      /* Genre Titles */
      h5 {
          font-weight: 600;
          color: #555;
          margin-top: 10px;
      }

      /* Back to Home Button */
      .btn-primary {
          background-color: pink;
          border-color: plum;
          font-weight: bold;
          border-radius: 8px;
          padding: 10px 15px;
          text-transform: uppercase;
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
      }

      .btn-primary:hover {
          background-color: lightblue;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.15);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
          .container {padding: 20px;}

          p.text-center {font-size: 16px;}

          h2, h3 {font-size: 22px;}

          h5 {font-size: 16px;}

          .btn-primary {font-size: 14px;}
      }
  </style>
</head>

<body class="bg-light">
    <div class="container mt-5">
        <h2 class="text-center mb-4">Model Training History</h2>

        <table class="table table-bordered table-hover bg-white">
            <thead class="table-dark">
                <tr>
                    <th>Epoch</th>
                    <th>Loss</th>
                    <th>Accuracy</th>
                    <th>Validation Loss</th>
                    <th>Validation Accuracy</th>
                </tr>
            </thead>
            <tbody>
                {% for i in range(training_history.loss | length) %}
                <tr>
                    <td>{{ i + 1 }}</td>
                    <td>{{ '%.4f' % training_history.loss[i] }}</td>
                    <td>{{ '%.4f' % training_history.accuracy[i] }}</td>
                    <td>{{ '%.4f' % training_history.val_loss[i] }}</td>
                    <td>{{ '%.4f' % training_history.val_accuracy[i] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <section class="mt-10">
          <h3 class="text-2xl font-bold mb-4 text-white-600">Evaluation Metrics</h2>
          <div class="grid grid-cols-2 gap-4 text-lg text-white-600">
            <div>
              <p><strong>Precision:</strong> {{ precision }}</p>
              <p><strong>Recall:</strong> {{ recall }}</p>
              <p><strong>F1 Score:</strong> {{ f1_score }}</p>
            </div>
            <div>
              <img src="../static/images/confusionmatrix.png" alt="Confusion Matrix" class="w-full h-auto rounded shadow">
            </div>
          </div>
        
          <div class="mt-6">
            <h3 class="text-xl font-semibold mb-2 text-white-600">Training Visuaslizations</h3>
            <div class="grid grid-cols-2 gap-4">
              <img src="../static/images/training_loss.png" alt="Training Loss" class="rounded shadow">
            </div>
          </div>
        </section>

        <div class="text-center mt-4">
            <a href="/" class="btn btn-primary">‚Üê Back to Home</a>
        </div>
    </div>
      
</body>
</html>
